<view class="standard data-v-34e5bea4"><u-sticky vue-id="67d296e2-1" offset-top="{{offset}}" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="standard-top data-v-34e5bea4"><l-file bind:upSuccess="__e" vue-id="{{('67d296e2-2')+','+('67d296e2-1')}}" data-ref="lFile" data-event-opts="{{[['^upSuccess',[['onSuccess']]]]}}" class="data-v-34e5bea4 vue-ref" bind:__l="__l"></l-file><view data-event-opts="{{[['tap',[['onUpload']]]]}}" class="action data-v-34e5bea4" bindtap="__e">新增标准</view><view data-event-opts="{{[['tap',[['upload']]]]}}" class="action data-v-34e5bea4" bindtap="__e">模板下载</view><block wx:if="{{list.length>0}}"><view data-event-opts="{{[['tap',[['batch']]]]}}" class="action data-v-34e5bea4" bindtap="__e">{{''+batchtitle+''}}</view></block><block wx:else><view class="action gray data-v-34e5bea4">批量管理</view></block></view><view class="subsearch data-v-34e5bea4"><u-search vue-id="{{('67d296e2-3')+','+('67d296e2-1')}}" placeholder="请输入标准名称" shape="square" action-style="{{actionStyle}}" border-color="#4abdb4" bg-color="#ffffff" value="{{standardName}}" data-event-opts="{{[['^search',[['searchStandard']]],['^custom',[['searchStandard']]],['^clear',[['clear']]],['^input',[['__set_model',['','standardName','$event',[]]]]]]}}" bind:search="__e" bind:custom="__e" bind:clear="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l"></u-search></view></u-sticky><view class="standard-content data-v-34e5bea4"><block wx:if="{{list.length<=0}}"><view class="empty data-v-34e5bea4"><image src="../../static/nodata.png" mode class="data-v-34e5bea4"></image><view class="empty-tips data-v-34e5bea4">暂无数据</view></view></block><scroll-view style="height:60vh;width:100%;" scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['onreachBottom',['$event']]]]]}}" bindscrolltolower="__e" class="data-v-34e5bea4"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index"><view class="part data-v-34e5bea4"><view class="top-part data-v-34e5bea4"><view class="left data-v-34e5bea4"><block wx:if="{{showCheck}}"><view class="check data-v-34e5bea4"><checkbox value="{{item.$orig.value}}" checked="{{item.$orig.checked}}" data-event-opts="{{[['tap',[['check',[index]]]]]}}" bindtap="__e" class="data-v-34e5bea4"></checkbox></view></block><image src="../../static/excel.png" mode class="data-v-34e5bea4"></image></view><view class="right data-v-34e5bea4"><view class="name data-v-34e5bea4">{{''+item.$orig.new_name+''}}</view><view class="detail data-v-34e5bea4"><view class="size data-v-34e5bea4">{{''+item.$orig.magnitude+''}}</view><view class="time data-v-34e5bea4">{{''+item.g0+''}}</view></view></view></view><block wx:if="{{item.$orig.flag}}"><view class="action-part data-v-34e5bea4"><block wx:if="{{item.$orig.view==2}}"><view class="data-v-34e5bea4"><block wx:if="{{item.$orig.status==1}}"><view data-event-opts="{{[['tap',[['allot',['single','$0',false],[[['list','',index,'id']]]]]]]}}" class="allot  data-v-34e5bea4" bindtap="__e">未下发</view></block><block wx:if="{{item.$orig.status==2}}"><view class="allot gray data-v-34e5bea4">未下发</view></block></view></block><block wx:else><view class="data-v-34e5bea4"><block wx:if="{{item.$orig.status==1}}"><view data-event-opts="{{[['tap',[['allot',['edit','$0',true],[[['list','',index,'id']]]]]]]}}" class="allot  data-v-34e5bea4" bindtap="__e">已下发</view></block><block wx:else><view class="allot gray  data-v-34e5bea4">已下发</view></block></view></block><block wx:if="{{item.$orig.status==1}}"><view data-event-opts="{{[['tap',[['reviewname',[index]]]]]}}" class="see data-v-34e5bea4" bindtap="__e">重命名</view></block><block wx:if="{{item.$orig.status==2}}"><view class="see gray data-v-34e5bea4">重命名</view></block><block wx:if="{{item.$orig.status==2}}"><view data-event-opts="{{[['tap',[['startUse',[index]]]]]}}" class="use data-v-34e5bea4" bindtap="__e">已停用</view></block><block wx:if="{{item.$orig.status==1}}"><view data-event-opts="{{[['tap',[['stopUse',[index,'$0'],[[['list','',index,'new_name']]]]]]]}}" class="use data-v-34e5bea4" bindtap="__e">已启用</view></block><view data-event-opts="{{[['tap',[['del',[index,'$0'],[[['list','',index,'name']]]]]]]}}" class="del data-v-34e5bea4" bindtap="__e">删除</view></view></block><block wx:else><view class="action-part data-v-34e5bea4"><block wx:if="{{item.$orig.view==2}}"><view class="data-v-34e5bea4"><view class="allot gray data-v-34e5bea4">未下发</view></view></block><block wx:else><view class="data-v-34e5bea4"><view class="allot gray data-v-34e5bea4">已下发</view></view></block><view class="see gray data-v-34e5bea4">重命名</view><block wx:if="{{item.$orig.status==2}}"><view class="use gray data-v-34e5bea4">已停用</view></block><block wx:if="{{item.$orig.status==1}}"><view class="use gray data-v-34e5bea4">已启用</view></block><view class="del gray data-v-34e5bea4">删除</view></view></block></view></block><block wx:if="{{list.length>=1}}"><u-loadmore vue-id="67d296e2-4" bg-color="none" status="{{status}}" icon-type="{{iconType}}" margin="30" load-text="{{loadText}}" data-event-opts="{{[['^loadmore',[['loadmore']]]]}}" bind:loadmore="__e" class="data-v-34e5bea4" bind:__l="__l"></u-loadmore></block></scroll-view></view><block wx:if="{{showCheck&&list.length>=1}}"><view class="bottom data-v-34e5bea4"><view class="check-bottom data-v-34e5bea4"><view class="left data-v-34e5bea4"><checkbox value="all" checked="{{all}}" data-event-opts="{{[['tap',[['checkAll']]]]}}" bindtap="__e" class="data-v-34e5bea4"></checkbox><view class="data-v-34e5bea4">全选</view></view><view class="right data-v-34e5bea4"><view data-event-opts="{{[['tap',[['allot',['batch',null,false]]]]]}}" class="batch data-v-34e5bea4" bindtap="__e">批量下发</view><view data-event-opts="{{[['tap',[['batchDel']]]]}}" class="batch del data-v-34e5bea4" bindtap="__e">批量删除</view></view></view></view></block><u-popup vue-id="67d296e2-5" mode="{{curMode}}" width="40%" height="80%" value="{{showAllot}}" data-event-opts="{{[['^close',[['close']]],['^input',[['__set_model',['','showAllot','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="roleModel data-v-34e5bea4"><view class="roleTop data-v-34e5bea4">{{''+allotitle+''}}</view><view class="content data-v-34e5bea4"><view class="choose data-v-34e5bea4"><view class="title data-v-34e5bea4">查看数据人员</view><view class="input_part data-v-34e5bea4"><u-input vue-id="{{('67d296e2-6')+','+('67d296e2-5')}}" type="select" border="{{true}}" height="70" value="{{person}}" data-event-opts="{{[['^click',[['openPerson']]],['^input',[['__set_model',['','person','$event',[]]]]]]}}" bind:click="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l"></u-input></view><view data-event-opts="{{[['tap',[['addPerson']]]]}}" class="add data-v-34e5bea4" bindtap="__e">添加</view></view><block wx:if="{{personList.length>0}}"><view class="hasChoosed data-v-34e5bea4"><block wx:for="{{personList}}" wx:for-item="item" wx:for-index="index"><view class="has data-v-34e5bea4"><view class="name data-v-34e5bea4">{{''+item.name+''}}</view><view data-event-opts="{{[['tap',[['delPerson',[index]]]]]}}" class="icon data-v-34e5bea4" bindtap="__e"><u-icon vue-id="{{('67d296e2-7-'+index)+','+('67d296e2-5')}}" name="close" color="#cccccc" size="28" class="data-v-34e5bea4" bind:__l="__l"></u-icon></view></view></block></view></block><view class="range data-v-34e5bea4"><view class="title data-v-34e5bea4">下发范围</view><view class="part data-v-34e5bea4"><view class="left data-v-34e5bea4"><view class="top data-v-34e5bea4"><view class="data-v-34e5bea4">待选列表</view><u-checkbox-group bind:change="__e" vue-id="{{('67d296e2-8')+','+('67d296e2-5')}}" data-event-opts="{{[['^change',[['checkedAllList']]]]}}" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><u-checkbox bind:input="__e" vue-id="{{('67d296e2-9')+','+('67d296e2-8')}}" active-color="#4abdb4" value="{{listchoose}}" data-event-opts="{{[['^input',[['__set_model',['','listchoose','$event',[]]]]]]}}" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}">全选</u-checkbox></u-checkbox-group></view><view class="list data-v-34e5bea4"><scroll-view style="height:300rpx;width:100%;" scroll-y="{{true}}" class="data-v-34e5bea4"><u-checkbox-group vue-id="{{('67d296e2-10')+','+('67d296e2-5')}}" wrap="{{true}}" data-event-opts="{{[['^change',[['checkboxGroupChange']]]]}}" bind:change="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{checkList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><u-checkbox vue-id="{{('67d296e2-11-'+index)+','+('67d296e2-10')}}" name="{{item.id}}" active-color="#4abdb4" value="{{item.checked}}" data-event-opts="{{[['^change',[['checkboxChange']]],['^input',[['__set_model',['$0','checked','$event',[]],[[['checkList','',index]]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><text class="job data-v-34e5bea4">{{item.job}}</text><text class="data-v-34e5bea4">{{item.name}}</text></u-checkbox></block></u-checkbox-group></scroll-view></view></view><view class="right data-v-34e5bea4"><view class="top data-v-34e5bea4">已选列表</view><view class="list data-v-34e5bea4"><scroll-view style="height:300rpx;width:100%;" scroll-y="{{true}}" class="data-v-34e5bea4"><block wx:for="{{hasList}}" wx:for-item="item" wx:for-index="index"><block wx:if="{{hasList.length>0}}"><view class="has data-v-34e5bea4"><view class="name data-v-34e5bea4">{{''+item.name+''}}</view><view data-event-opts="{{[['tap',[['delChecklist',[index]]]]]}}" class="icon data-v-34e5bea4" bindtap="__e"><u-icon vue-id="{{('67d296e2-12-'+index)+','+('67d296e2-5')}}" name="close" color="#cccccc" size="28" class="data-v-34e5bea4" bind:__l="__l"></u-icon></view></view></block></block></scroll-view></view></view></view></view></view><view class="roleAction data-v-34e5bea4"><view data-event-opts="{{[['tap',[['cancel']]]]}}" class="cancel data-v-34e5bea4" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['sure']]]]}}" class="sure data-v-34e5bea4" bindtap="__e">确定</view></view></view><u-action-sheet vue-id="{{('67d296e2-13')+','+('67d296e2-5')}}" list="{{personSheetList}}" border-radius="20" value="{{showPersonList}}" data-event-opts="{{[['^click',[['personSheetCallback']]],['^input',[['__set_model',['','showPersonList','$event',[]]]]]]}}" bind:click="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l"></u-action-sheet><u-action-sheet vue-id="{{('67d296e2-14')+','+('67d296e2-5')}}" list="{{relevanceSheetList}}" border-radius="20" value="{{showRelevanceList}}" data-event-opts="{{[['^click',[['relevanceSheetCallback']]],['^input',[['__set_model',['','showRelevanceList','$event',[]]]]]]}}" bind:click="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l"></u-action-sheet></u-popup><u-modal vue-id="67d296e2-15" async-close="{{true}}" show-cancel-button="{{true}}" confirm-style="{{$root.a0}}" show-title="{{false}}" data-ref="uModal" value="{{renameshow}}" data-event-opts="{{[['^confirm',[['renameconfirm']]],['^input',[['__set_model',['','renameshow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-34e5bea4 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content data-v-34e5bea4"><view class="model data-v-34e5bea4"><view class="rename data-v-34e5bea4"><u-input bind:input="__e" vue-id="{{('67d296e2-16')+','+('67d296e2-15')}}" type="text" border="{{true}}" placeholder="请输入名称" value="{{renamevalue}}" data-event-opts="{{[['^input',[['__set_model',['','renamevalue','$event',[]]]]]]}}" class="data-v-34e5bea4" bind:__l="__l"></u-input></view><view class="tips data-v-34e5bea4">名称长度范围为2-30个字符，请勿输入特殊符号</view></view></view></u-modal><u-modal vue-id="67d296e2-17" async-close="{{true}}" show-cancel-button="{{true}}" confirm-style="{{$root.a1}}" show-title="{{false}}" value="{{stopshow}}" data-event-opts="{{[['^confirm',[['stopconfirm']]],['^input',[['__set_model',['','stopshow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content data-v-34e5bea4"><view class="model data-v-34e5bea4"><view class="stop data-v-34e5bea4">{{'您确定要停用【'+Title+'】吗?'}}</view><view class="tips data-v-34e5bea4">停用后标准将被冻结，无法继续</view></view></view></u-modal><u-modal vue-id="67d296e2-18" async-close="{{true}}" show-cancel-button="{{true}}" confirm-style="{{$root.a2}}" show-title="{{false}}" value="{{delshow}}" data-event-opts="{{[['^confirm',[['delconfirm']]],['^input',[['__set_model',['','delshow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content data-v-34e5bea4"><view class="model data-v-34e5bea4"><view class="stop data-v-34e5bea4">{{'您确定要删除【'+Title+'】吗?'}}</view><view class="tips data-v-34e5bea4">已下发的标准将同时删除</view></view></view></u-modal><u-modal vue-id="67d296e2-19" async-close="{{true}}" show-cancel-button="{{true}}" confirm-style="{{$root.a3}}" show-title="{{false}}" value="{{delAllshow}}" data-event-opts="{{[['^confirm',[['delAllconfirm']]],['^input',[['__set_model',['','delAllshow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content data-v-34e5bea4"><view class="model data-v-34e5bea4"><view class="stop data-v-34e5bea4">您确定要删除已选中的标准吗?</view><view class="tips data-v-34e5bea4">已下发的标准将同时删除</view></view></view></u-modal><u-modal vue-id="67d296e2-20" async-close="{{true}}" show-cancel-button="{{true}}" confirm-style="{{$root.a4}}" show-title="{{false}}" value="{{uploadshow}}" data-event-opts="{{[['^confirm',[['uploadconfirm']]],['^input',[['__set_model',['','uploadshow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content data-v-34e5bea4"><view class="model data-v-34e5bea4"><u-form vue-id="{{('67d296e2-21')+','+('67d296e2-20')}}" model="{{uploadform}}" data-ref="uForm" class="data-v-34e5bea4 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('67d296e2-22')+','+('67d296e2-21')}}" label="标准分类" prop="uploadtype" label-width="200" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><u-input vue-id="{{('67d296e2-23')+','+('67d296e2-22')}}" type="select" border="{{true}}" value="{{uploadform.type}}" data-event-opts="{{[['^click',[['openupload']]],['^input',[['__set_model',['$0','type','$event',[]],['uploadform']]]]]}}" bind:click="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('67d296e2-24')+','+('67d296e2-21')}}" label="是否归类" prop="intro" label-width="200" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['right']}}"><u-switch bind:input="__e" vue-id="{{('67d296e2-25')+','+('67d296e2-24')}}" slot="right" value="{{uploadform.switchVal}}" data-event-opts="{{[['^input',[['__set_model',['$0','switchVal','$event',[]],['uploadform']]]]]}}" class="data-v-34e5bea4" bind:__l="__l"></u-switch></u-form-item></u-form></view></view></u-modal><u-popup vue-id="67d296e2-26" mode="{{curMode}}" width="40%" height="80%" value="{{showupload}}" data-event-opts="{{[['^close',[['closeupload']]],['^input',[['__set_model',['','showupload','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><view class="Model data-v-34e5bea4"><view class="toptitle data-v-34e5bea4">标准分类</view><view class="top-part data-v-34e5bea4"><view class="all data-v-34e5bea4"><u-checkbox-group bind:change="__e" vue-id="{{('67d296e2-27')+','+('67d296e2-26')}}" data-event-opts="{{[['^change',[['uploadcheckedAll']]]]}}" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><u-checkbox bind:input="__e" vue-id="{{('67d296e2-28')+','+('67d296e2-27')}}" active-color="#4abdb4" value="{{uploadchoose}}" data-event-opts="{{[['^input',[['__set_model',['','uploadchoose','$event',[]]]]]]}}" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}">全部分类</u-checkbox></u-checkbox-group></view><view class="part data-v-34e5bea4"><scroll-view style="height:60vh;width:100%;" scroll-y="{{true}}" class="data-v-34e5bea4"><u-checkbox-group vue-id="{{('67d296e2-29')+','+('67d296e2-26')}}" wrap="{{true}}" data-event-opts="{{[['^change',[['uploadcheckboxGroupChange']]]]}}" bind:change="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{uploadlist}}" wx:for-item="item" wx:for-index="index" wx:key="index"><u-checkbox vue-id="{{('67d296e2-30-'+index)+','+('67d296e2-29')}}" name="{{item.name}}" active-color="#4abdb4" value="{{item.checked}}" data-event-opts="{{[['^change',[['uploadcheckboxChange']]],['^input',[['__set_model',['$0','checked','$event',[]],[[['uploadlist','',index]]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-34e5bea4" bind:__l="__l" vue-slots="{{['default']}}">{{item.name}}</u-checkbox></block></u-checkbox-group></scroll-view></view></view></view></u-popup><u-toast vue-id="67d296e2-31" data-ref="uToast" class="data-v-34e5bea4 vue-ref" bind:__l="__l"></u-toast></view>